{"mappings":"iiBAAA,IAQIA,EARJC,EAAAC,EAAA,S,uCAUMC,EAASC,SAASC,cAAc,SAChCC,EAAWF,SAASC,cAAc,eAClCE,EAAUH,SAASC,cAAc,YACvCE,EAAQC,iBAAiB,SAazB,SAAqBC,GACnB,IAAMC,EAAUD,EAAME,OAAOC,QAAQ,aACrC,IAAKF,EAAS,OACd,IAAMG,EAAYC,OAAOJ,EAAQK,QAAQC,IACnCC,EAAajB,EAASkB,MAAK,SAAAC,G,OAAQA,EAAKH,KAAOH,C,KACrD,EAAAO,EAAAC,qBAAoBJ,EAAYK,E,IAjBlCnB,EAAOK,iBAAiB,U,SAoBce,G,OAAvBC,EAAsBC,MAAAC,KAAAC,U,IAlBrC,IAAML,EAAgBlB,SAASC,cAAc,oB,SAI9BuB,I,OAAAA,EAAfC,EAAA5B,EAAA,CAAA4B,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,E,mFAAa,EAAAC,EAAAC,eAdR,G,OAcLF,EAAIG,EAAAC,KACVrC,EAAWiC,EAAKK,SAChB,EAAAlB,EAAAmB,gBAAevC,EAAUO,G,4CAHDkB,MAAAC,KAAAC,U,UAcXH,I,OAAAA,EAAfK,EAAA5B,EAAA,CAAA4B,EAAAC,GAAAC,MAAA,SAAAC,EAAsCT,G,IAG9BiB,EACAP,EACAQ,E,yEAJNlB,EAAImB,iBACJC,QAAQC,IAAIrB,EAAIZ,OAAO8B,YAAYI,MAAMC,QACnCN,EAASjB,EAAIZ,OAAO8B,YAAYI,MAAMC,O,UACzB,EAAAZ,EAAAa,aAAYP,G,OAAzBP,EAAIG,EAAAC,KACJI,EAAcR,EAAKK,QAEzBhC,EAAS0C,UAAUC,IAAI,WACvB,EAAA7B,EAAA8B,cAAaT,EAAalC,GACrB0B,EAAKkB,gBACRR,QAAQC,IAAIX,EAAKkB,eACjB7C,EAAS0C,UAAUI,OAAO,W,6CAXO3B,MAAAC,KAAAC,U,aAdtBC,EAAWH,MAAAC,KAAAC,U,CAF1B0B,G","sources":["src/js/filmoteka.js"],"sourcesContent":["import { fetchTrending, fetchSearch } from './themoviedb-api-service';\nimport {\n  markupSearch,\n  markupTrending,\n  markupModalFilmInfo,\n} from './markup-service';\n\nconst page = 1;\nlet filmList;\n\nconst formEl = document.querySelector('.form');\nconst formText = document.querySelector('.form__text');\nconst gallery = document.querySelector('.gallery');\ngallery.addEventListener('click', onCardClick);\nformEl.addEventListener('submit', showGallerySearchQuery);\n\nconst modalFilmInfo = document.querySelector('.modal-film-info');\n\nshowGallery();\n\nasync function showGallery() {\n  const data = await fetchTrending(page);\n  filmList = data.results;\n  markupTrending(filmList, gallery);\n}\n\nfunction onCardClick(event) {\n  const filmBox = event.target.closest('.film-box');\n  if (!filmBox) return;\n  const filmBoxId = Number(filmBox.dataset.id);\n  const targetFilm = filmList.find(film => film.id === filmBoxId);\n  markupModalFilmInfo(targetFilm, modalFilmInfo);\n}\n\nasync function showGallerySearchQuery(evt) {\n  evt.preventDefault();\n  console.log(evt.target.searchQuery.value.trim());\n  const search = evt.target.searchQuery.value.trim();\n  const data = await fetchSearch(search);\n  const searchQuery = data.results;\n\n  formText.classList.add('hidden');\n  markupSearch(searchQuery, gallery);\n  if (!data.total_results) {\n    console.log(data.total_results);\n    formText.classList.remove('hidden');\n  }\n}\n"],"names":["$0d1473df3547cfcd$var$filmList","$bpxeT","parcelRequire","$0d1473df3547cfcd$var$formEl","document","querySelector","$0d1473df3547cfcd$var$formText","$0d1473df3547cfcd$var$gallery","addEventListener","event","filmBox","target","closest","filmBoxId","Number","dataset","id","targetFilm","find","film","$8aiyG","markupModalFilmInfo","$0d1473df3547cfcd$var$modalFilmInfo","evt","$0d1473df3547cfcd$var$_showGallerySearchQuery","apply","this","arguments","$0d1473df3547cfcd$var$_showGallery","$parcel$interopDefault","$2TvXO","mark","_callee","data","$fvDOI","fetchTrending","_ctx","sent","results","markupTrending","search","searchQuery","preventDefault","console","log","value","trim","fetchSearch","classList","add","markupSearch","total_results","remove","$0d1473df3547cfcd$var$showGallery"],"version":3,"file":"index.daa0eef7.js.map"}
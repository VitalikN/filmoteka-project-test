!function(){function t(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},r={},o=n.parcelRequired7c6;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in r){var n=r[t];delete r[t];var o={id:t,exports:{}};return e[t]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,n){r[t]=n},n.parcelRequired7c6=o);var i=o("bpxeT"),a=o("2TvXO"),c=o("fvDOI"),s=(i=o("bpxeT"),a=o("2TvXO"),"https://image.tmdb.org/t/p/w500");function u(t){var n=[],e=!0,r=!1,o=void 0;try{for(var i,a=function(t,e){var r=e.value,o=y.find((function(t){return t.id===Number(r)}));"Science Fiction"!==o.name?n.push(o.name):n.push("Sci-Fi")},c=t[Symbol.iterator]();!(e=(i=c.next()).done);e=!0)a(0,i)}catch(t){r=!0,o=t}finally{try{e||null==c.return||c.return()}finally{if(r)throw o}}return n.length>2?"".concat(n[0],", ").concat(n[1],",  Other"):n.join(", ")}function l(t){return y.filter((function(n){return t.includes(n.id)})).map((function(t){return t.name})).join(", ")}function f(t,n){return p.apply(this,arguments)}function p(){return(p=t(i)(t(a).mark((function n(e,r){var o;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.reduce((function(t,n){var e=n.poster_path,r=n.release_date,o=n.genre_ids,i=n.id,a=n.title,c=u(o);return t+'<div class="film-box" data-id="'.concat(i,'">\n      <img class="filmoteka__img" src="').concat(s).concat(e,'"  alt="').concat(a,'">\n      <p class="filmoteka__title"> ').concat(a,'</p>\n<div  class="filmoteka__box">\n      <p class="filmoteka__text"> ').concat(c,'</p>\n      <p class="filmoteka__text">&nbsp;|&nbsp; ').concat(parseInt(r),"</p>\n     \n      </div>\n      </div>")}),""),r.innerHTML=o;case 2:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function d(t,n){return v.apply(this,arguments)}function v(){return(v=t(i)(t(a).mark((function n(e,r){var o;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.reduce((function(t,n){var e=n.poster_path,r=n.release_date,o=n.genre_ids,i=n.id,a=n.title,c=u(o);return t+'<div class="film-box" data-id="'.concat(i,'">\n      <img class="filmoteka__img" src="').concat(s).concat(e,'"  alt="').concat(a,'">\n      <p class="filmoteka__title"> ').concat(a,'</p>\n<div  class="filmoteka__box">\n      <p class="filmoteka__text"> ').concat(c,'</p>\n      <p class="filmoteka__text">&nbsp;|&nbsp; ').concat(parseInt(r),"</p>\n       \n      </div>\n      </div>")}),""),r.innerHTML=o;case 2:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function m(t,n){return h.apply(this,arguments)}function h(){return(h=t(i)(t(a).mark((function n(e,r){var o,i,c,u,f,p,d,v,m,h,b;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.title,i=e.poster_path,c=e.overview,u=e.genre_ids,f=e.id,p=e.original_title,d=e.popularity,v=e.vote_count,m=e.vote_average,h=l(u),b='<div class="film-info">\n         <img  src="'.concat(s).concat(i,'">\n         <div class="film-info-wrapper">\n           <p>').concat(o||p,"</p>\n           <p>Vote ").concat(m,"</p>\n           <p>Votes ").concat(v,"</p>\n           <p>Popularity ").concat(d,"</p>\n           <p>Original Title ").concat(p,"</p>\n           <p>Genre ").concat(h,"</p>\n           <p>ABOUT</p>\n           <p>").concat(c,"</p>\n           <p>id: ").concat(f,'</p>\n           <button type="button">Add to watched</button>\n           <button type="button">Add to queue</button>\n         </div>\n        </div>'),r.innerHTML=b;case 4:case"end":return t.stop()}}),n)})))).apply(this,arguments)}(function t(n,e,r){function o(a,c){if(!e[a]){if(!n[a]){var s=void 0;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[a]={exports:{}};n[a][0].call(l.exports,(function(t){return o(n[a][1][t]||t)}),l,l.exports,t,n,e,r)}return e[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o})({1:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.visible=void 0;var r=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=document.createElement("div");return e.innerHTML=t.trim(),!0===n?e.children:e.firstChild},o=function(t,n){var e=t.children;return 1===e.length&&e[0].tagName===n},i=function(t){return null!=(t=t||document.querySelector(".basicLightbox"))&&!0===t.ownerDocument.body.contains(t)};e.visible=i,e.create=function(t,n){var e=function(t,n){var e=r('\n\t\t<div class="basicLightbox '.concat(n.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=e.querySelector(".basicLightbox__placeholder");t.forEach((function(t){return i.appendChild(t)}));var a=o(i,"IMG"),c=o(i,"VIDEO"),s=o(i,"IFRAME");return!0===a&&e.classList.add("basicLightbox--img"),!0===c&&e.classList.add("basicLightbox--video"),!0===s&&e.classList.add("basicLightbox--iframe"),e}(t=function(t){var n="string"==typeof t,e=t instanceof HTMLElement==1;if(!1===n&&!1===e)throw new Error("Content must be a DOM element/node or string");return!0===n?Array.from(r(t,!0)):"TEMPLATE"===t.tagName?[t.content.cloneNode(!0)]:Array.from(t.children)}(t),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(t=Object.assign({},t)).closable&&(t.closable=!0),null==t.className&&(t.className=""),null==t.onShow&&(t.onShow=function(){}),null==t.onClose&&(t.onClose=function(){}),"boolean"!=typeof t.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof t.className)throw new Error("Property `className` must be a string");if("function"!=typeof t.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof t.onClose)throw new Error("Property `onClose` must be a function");return t}(n)),a=function(t){return!1!==n.onClose(c)&&function(t,n){return t.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(t)||t.parentElement.removeChild(t),n()}),410),!0}(e,(function(){if("function"==typeof t)return t(c)}))};!0===n.closable&&e.addEventListener("click",(function(t){t.target===e&&a()}));var c={element:function(){return e},visible:function(){return i(e)},show:function(t){return!1!==n.onShow(c)&&function(t,n){return document.body.appendChild(t),setTimeout((function(){requestAnimationFrame((function(){return t.classList.add("basicLightbox--visible"),n()}))}),10),!0}(e,(function(){if("function"==typeof t)return t(c)}))},close:a};return c}},{}]},{},[1])(1);var b,y,g=document.querySelector(".form"),w=document.querySelector(".form__text"),_=document.querySelector(".gallery");_.addEventListener("click",(function(t){var n=t.target.closest(".film-box");if(!n)return;var e=Number(n.dataset.id);m(b.find((function(t){return t.id===e})),x),function(t){E.apply(this,arguments)}(e)})),g.addEventListener("submit",(function(t){return S.apply(this,arguments)}));var x=document.querySelector(".modal-film-info");function L(){return(L=t(i)(t(a).mark((function n(){return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getGenreList)();case 2:return y=t.sent,t.next=5,k();case 5:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function k(){return T.apply(this,arguments)}function T(){return(T=t(i)(t(a).mark((function n(){var e;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.fetchTrending)(1);case 2:e=t.sent,d(b=e.results,_);case 5:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function E(){return(E=t(i)(t(a).mark((function n(e){var r;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.fetchTrailers)(e);case 2:r=t.sent,O(r.results[0].key);case 5:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function O(t){var n='<iframe class="trailer-container" width="420" height="315" src="https://www.youtube.com/embed/'.concat(t,'" frameborder="0" allowfullscreen></iframe>');console.log(n)}function S(){return(S=t(i)(t(a).mark((function n(e){var r,o;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),console.log(e.target.searchQuery.value.trim()),r=e.target.searchQuery.value.trim().toLowerCase(),t.next=5,(0,c.fetchSearch)(r);case 5:if(o=t.sent,f(o.results,_),o.total_results){t.next=15;break}return k(),console.log(o.total_results),w.classList.remove("hidden"),t.abrupt("return");case 15:w.classList.add("hidden");case 16:case"end":return t.stop()}}),n)})))).apply(this,arguments)}!function(){L.apply(this,arguments)}(),o("fvDOI")}();
//# sourceMappingURL=index.8cc1569f.js.map

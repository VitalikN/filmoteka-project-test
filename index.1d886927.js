async function t(t){try{const e=fetch(`https://api.themoviedb.org/3/movie/${t}/videos?api_key=e55542ecb6aab3d889d16953eac82937&language=en-US`);return(await e).json()}catch(t){}return console.log("error :>> ",error)}async function e(t){try{const e=fetch(`https://api.themoviedb.org/3/search/movie?api_key=e55542ecb6aab3d889d16953eac82937&language=en-US&query=${t}&page=1&include_adult=false`);return(await e).json()}catch(t){return console.log("error :>> ",t)}}async function n(t){try{const e=fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=e55542ecb6aab3d889d16953eac82937&page=${t}`);return(await e).json()}catch(t){return console.log("error :>> ",t)}}async function o(){return(await async function(){try{const t=fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e55542ecb6aab3d889d16953eac82937");return(await t).json()}catch(t){return console.log("error :>> ",t)}}()).genres}!async function(){(await e()).results}();function r(t){const e=[];for(const n of t){const t=l.find((t=>t.id===Number(n)));"Science Fiction"!==t.name?e.push(t.name):e.push("Sci-Fi")}return e.length>2?`${e[0]}, ${e[1]},  Other`:e.join(", ")}async function i(t,e){const n=t.reduce(((t,{poster_path:e,release_date:n,genre_ids:o,id:i,title:a})=>t+`<div class="film-box" data-id="${i}">\n      <img class="filmoteka__img" src="https://image.tmdb.org/t/p/w500${e}"  alt="${a}">\n      <p class="filmoteka__title"> ${a}</p>\n<div  class="filmoteka__box">\n      <p class="filmoteka__text"> ${r(o)}</p>\n      <p class="filmoteka__text">&nbsp;|&nbsp; ${parseInt(n)}</p>\n     \n      </div>\n      </div>`),"");e.innerHTML=n}async function a(t,e){const n=t.reduce(((t,{poster_path:e,release_date:n,genre_ids:o,id:i,title:a})=>t+`<div class="film-box" data-id="${i}">\n      <img class="filmoteka__img" src="https://image.tmdb.org/t/p/w500${e}"  alt="${a}">\n      <p class="filmoteka__title"> ${a}</p>\n<div  class="filmoteka__box">\n      <p class="filmoteka__text"> ${r(o)}</p>\n      <p class="filmoteka__text">&nbsp;|&nbsp; ${parseInt(n)}</p>\n       \n      </div>\n      </div>`),"");e.innerHTML=n}async function s(t,e){const{title:n,poster_path:o,overview:r,genre_ids:i,id:a,original_title:s,popularity:c,vote_count:u,vote_average:d}=t,f=function(t){return l.filter((e=>t.includes(e.id))).map((t=>t.name)).join(", ")}(i),p=`<div class="film-info">\n         <img  src="https://image.tmdb.org/t/p/w500${o}">\n         <div class="film-info-wrapper">\n           <p>${n||s}</p>\n           <p>Vote ${d}</p>\n           <p>Votes ${u}</p>\n           <p>Popularity ${c}</p>\n           <p>Original Title ${s}</p>\n           <p>Genre ${f}</p>\n           <p>ABOUT</p>\n           <p>${r}</p>\n           <p>id: ${a}</p>\n           <button type="button">Add to watched</button>\n           <button type="button">Add to queue</button>\n         </div>\n        </div>`;e.innerHTML=p}(function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c=void 0;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,o)}return n[a].exports}for(var i=void 0,a=0;a<o.length;a++)r(o[a]);return r})({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=t.trim(),!0===e?n.children:n.firstChild},r=function(t,e){var n=t.children;return 1===n.length&&n[0].tagName===e},i=function(t){return null!=(t=t||document.querySelector(".basicLightbox"))&&!0===t.ownerDocument.body.contains(t)};n.visible=i,n.create=function(t,e){var n=function(t,e){var n=o('\n\t\t<div class="basicLightbox '.concat(e.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=n.querySelector(".basicLightbox__placeholder");t.forEach((function(t){return i.appendChild(t)}));var a=r(i,"IMG"),s=r(i,"VIDEO"),c=r(i,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===c&&n.classList.add("basicLightbox--iframe"),n}(t=function(t){var e="string"==typeof t,n=t instanceof HTMLElement==1;if(!1===e&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===e?Array.from(o(t,!0)):"TEMPLATE"===t.tagName?[t.content.cloneNode(!0)]:Array.from(t.children)}(t),e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(t=Object.assign({},t)).closable&&(t.closable=!0),null==t.className&&(t.className=""),null==t.onShow&&(t.onShow=function(){}),null==t.onClose&&(t.onClose=function(){}),"boolean"!=typeof t.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof t.className)throw new Error("Property `className` must be a string");if("function"!=typeof t.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof t.onClose)throw new Error("Property `onClose` must be a function");return t}(e)),a=function(t){return!1!==e.onClose(s)&&function(t,e){return t.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(t)||t.parentElement.removeChild(t),e()}),410),!0}(n,(function(){if("function"==typeof t)return t(s)}))};!0===e.closable&&n.addEventListener("click",(function(t){t.target===n&&a()}));var s={element:function(){return n},visible:function(){return i(n)},show:function(t){return!1!==e.onShow(s)&&function(t,e){return document.body.appendChild(t),setTimeout((function(){requestAnimationFrame((function(){return t.classList.add("basicLightbox--visible"),e()}))}),10),!0}(n,(function(){if("function"==typeof t)return t(s)}))},close:a};return s}},{}]},{},[1])(1);let c,l;const u=document.querySelector(".form"),d=document.querySelector(".form__text"),f=document.querySelector(".gallery");f.addEventListener("click",(function(e){const n=e.target.closest(".film-box");if(!n)return;const o=Number(n.dataset.id);s(c.find((t=>t.id===o)),p),async function(e){const n=await t(e);!function(t){const e=`<iframe class="trailer-container" width="420" height="315" src="https://www.youtube.com/embed/${t}" frameborder="0" allowfullscreen></iframe>`;console.log(e)}(n.results[0].key)}(o)})),u.addEventListener("submit",(async function(t){t.preventDefault(),console.log(t.target.searchQuery.value.trim());const n=t.target.searchQuery.value.trim().toLowerCase(),o=await e(n);if(i(o.results,f),!o.total_results)return m(),console.log(o.total_results),void d.classList.remove("hidden");d.classList.add("hidden")}));const p=document.querySelector(".modal-film-info");async function m(){const t=await n(1);c=t.results,a(c,f)}!async function(){l=await o(),await m()}();
//# sourceMappingURL=index.1d886927.js.map

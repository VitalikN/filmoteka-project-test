!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){r[t]=e},e.parcelRequired7c6=a);var c=a("bpxeT"),o=a("2TvXO"),i=a("fvDOI"),s=(c=a("bpxeT"),o=a("2TvXO"),"https://image.tmdb.org/t/p/w500");function u(t){var e=[],n=!0,r=!1,a=void 0;try{for(var c,o=function(t,n){var r=n.value,a=_.find((function(t){return t.id===Number(r)}));"Science Fiction"!==a.name?e.push(a.name):e.push("Sci-Fi")},i=t[Symbol.iterator]();!(n=(c=i.next()).done);n=!0)o(0,c)}catch(t){r=!0,a=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return e.length>2?"".concat(e[0],", ").concat(e[1],",  Other"):e.join(", ")}function l(t,e){return p.apply(this,arguments)}function p(){return(p=t(c)(t(o).mark((function e(n,r){var a;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.reduce((function(t,e){var n=e.poster_path,r=e.release_date,a=e.genre_ids,c=e.id,o=e.title,i=u(a);return t+'<div class="film-box" data-id="'.concat(c,'">\n      <img class="filmoteka__img" src="').concat(s).concat(n,'"  alt="').concat(o,'">\n      <p class="filmoteka__title"> ').concat(o,'</p>\n<div  class="filmoteka__box">\n      <p class="filmoteka__text"> ').concat(i,'</p>\n      <p class="filmoteka__text">&nbsp;|&nbsp; ').concat(parseInt(r),"</p>\n      </div>\n      </div>")}),""),r.innerHTML=a;case 2:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function f(t,e){return d.apply(this,arguments)}function d(){return(d=t(c)(t(o).mark((function e(n,r){var a;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.reduce((function(t,e){var n=e.poster_path,r=e.release_date,a=e.genre_ids,c=e.id,o=e.title,i=u(a);return t+'<div class="film-box" data-id="'.concat(c,'">\n      <img class="filmoteka__img" src="').concat(s).concat(n,'"  alt="').concat(o,'">\n      <p class="filmoteka__title"> ').concat(o,'</p>\n<div  class="filmoteka__box">\n      <p class="filmoteka__text"> ').concat(i,'</p>\n      <p class="filmoteka__text">&nbsp;|&nbsp; ').concat(parseInt(r),"</p>\n      </div>\n      </div>")}),""),r.innerHTML=a;case 2:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function v(t,e){return m.apply(this,arguments)}function m(){return(m=t(c)(t(o).mark((function e(n,r){var a,c,i,l,p,f,d,v,m,h,_;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.title,c=n.poster_path,i=n.overview,l=n.genre_ids,p=n.id,f=n.original_title,d=n.popularity,v=n.vote_count,m=n.vote_average,h=u(l),_='<div class="film-info">\n         <img  src="'.concat(s).concat(c,'">\n         <div class="film-info-wrapper">\n           <p>').concat(a||f,"</p>\n           <p>Vote ").concat(m,"</p>\n           <p>Votes ").concat(v,"</p>\n           <p>Popularity ").concat(d,"</p>\n           <p>Original Title ").concat(f,"</p>\n           <p>Genre ").concat(h,"</p>\n           <p>ABOUT</p>\n           <p>").concat(i,"</p>\n           <p>id: ").concat(p,'</p>\n           <button type="button">Add to watched</button>\n           <button type="button">Add to queue</button>\n         </div>\n        </div>'),r.innerHTML=_;case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var h,_,y=document.querySelector(".form"),x=document.querySelector(".form__text"),b=document.querySelector(".gallery");b.addEventListener("click",(function(t){var e=t.target.closest(".film-box");if(!e)return;var n=Number(e.dataset.id);v(h.find((function(t){return t.id===n})),g)})),y.addEventListener("submit",(function(t){return L.apply(this,arguments)}));var g=document.querySelector(".modal-film-info");function w(){return(w=t(c)(t(o).mark((function e(){return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.getGenreList)();case 2:return _=t.sent,t.next=5,k();case 5:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function k(){return T.apply(this,arguments)}function T(){return(T=t(c)(t(o).mark((function e(){var n;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.fetchTrending)(1);case 2:n=t.sent,f(h=n.results,b);case 5:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=t(c)(t(o).mark((function e(n){var r,a;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log(n.target.searchQuery.value.trim()),r=n.target.searchQuery.value.trim().toLowerCase(),t.next=5,(0,i.fetchSearch)(r);case 5:if(a=t.sent,l(a.results,b),a.total_results){t.next=15;break}return k(),console.log(a.total_results),x.classList.remove("hidden"),t.abrupt("return");case 15:x.classList.add("hidden");case 16:case"end":return t.stop()}}),e)})))).apply(this,arguments)}!function(){w.apply(this,arguments)}(),a("fvDOI")}();
//# sourceMappingURL=index.0f7c5504.js.map

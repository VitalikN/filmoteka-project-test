{"mappings":"AAyDA,IAAIA,GANJC,wBAjCOA,eAA2BC,GAChC,IACE,MAAMC,EAAWC,MACf,2GAAiEF,gCAEnE,aAAcC,GAAUE,M,CACxB,MAAOC,GACP,OAAOC,QAAQC,IAAI,aAAcF,E,EA2BhBG,IAEPC,O,CAJdC,GASAV,iBACE,MAAMW,QApBRX,iBACE,IACE,MAAME,EAAWC,MAAM,0FAEvB,aAAcD,GAAUE,M,CACxB,MAAOC,GACP,OAAOC,QAAQC,IAAI,aAAcF,E,EAchBO,GACnBb,EAAYY,EAAKE,M,CAHnBC","sources":["src/js/themoviedb-api-service.js"],"sourcesContent":["/**\n * API ключ (v3 auth)\n * e55542ecb6aab3d889d16953eac82937\n * \n * Приклад API-запиту\n * https://api.themoviedb.org/3/movie/550?api_key=e55542ecb6aab3d889d16953eac82937\n * \n * Токен доступу для читання API (v4 auth)\neyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNTU1NDJlY2I2YWFiM2Q4ODlkMTY5NTNlYWM4MjkzNyIsInN1YiI6IjYzY2NmY2QxOWE2NDM1MDBhZTAzODI3YiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ZrJwlyhckYNnJMhcHP9AOOvED0EU5i-2cuiwVbINE00\n */\n\n// const API_KEY = '1174e437242bb46ea8831e578adaacd1'\nconst API_KEY = 'e55542ecb6aab3d889d16953eac82937';\nconst URL = 'https://api.themoviedb.org/3';\nconst QUERY_TRENDING = '/trending/movie/week';\nconst QUERY_GENRE = '/genre/movie/list';\nconst QUERY_SEARCH = '/search/movie';\n\nexport async function fetchSearch(search) {\n  try {\n    const responce = fetch(\n      `${URL}${QUERY_SEARCH}?api_key=${API_KEY}&language=en-US&query=${search}&page=1&include_adult=false`\n    );\n    return (await responce).json();\n  } catch (error) {\n    return console.log('error :>> ', error);\n  }\n}\n\nexport async function fetchTrending(page) {\n  try {\n    const responce = fetch(\n      `${URL}${QUERY_TRENDING}?api_key=${API_KEY}&page=${page}`\n    );\n    return (await responce).json();\n  } catch (error) {\n    return console.log('error :>> ', error);\n  }\n}\n\nasync function fetchGenre() {\n  try {\n    const responce = fetch(`${URL}${QUERY_GENRE}?api_key=${API_KEY}`);\n\n    return (await responce).json();\n  } catch (error) {\n    return console.log('error :>> ', error);\n  }\n}\n\ngetGenreBySearch();\nasync function getGenreBySearch() {\n  const data = await fetchSearch();\n\n  return data.results;\n}\n\nlet genreList;\ngetGenreList();\nasync function getGenreList() {\n  const data = await fetchGenre();\n  genreList = data.genres;\n}\nexport function getGenreById(genre_ids) {\n  const res = [];\n  for (const item of genre_ids) {\n    const genreObject = genreList.find(genre => genre.id === Number(item));\n\n    genreObject.name !== 'Science Fiction'\n      ? res.push(genreObject.name)\n      : res.push('Sci-Fi');\n  }\n  return res.length > 2 ? `${res[0]}, ${res[1]},  Other` : res.join(', ');\n}\n"],"names":["$dd75f990e59a30d4$var$genreList","async","search","responce","fetch","json","error","console","log","$dd75f990e59a30d4$export$6f539dc45dead1c","results","$dd75f990e59a30d4$var$getGenreBySearch","data","$dd75f990e59a30d4$var$fetchGenre","genres","$dd75f990e59a30d4$var$getGenreList"],"version":3,"file":"library.983a3880.js.map"}